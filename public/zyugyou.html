<!DOCTYPE html>
<html lang="ja">

<head>
  
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>名大非公式wiki</title>
  <link rel="icon" type="image/png" href="img/icon.jpg">
  <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyD3ogaiRPtv870uTBDjI3S42LKTC1hlLrM",
      authDomain: "nuwiki2024.firebaseapp.com",
      databaseURL: "https://nuwiki2024-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "nuwiki2024",
      storageBucket: "nuwiki2024.appspot.com",
      messagingSenderId: "117360974314",
      appId: "1:117360974314:web:61f450a0ae18d958627a93",
      measurementId: "G-PWX9FWE8T3"
    };
    firebase.initializeApp(firebaseConfig);

    // Firebase のユーザー状態を監視
    firebase.auth().onAuthStateChanged(function (user) {
      if (user) {
        // ログインしている場合の処理
        document.querySelector(".login-bar").innerHTML = "ログイン済み：" ;
      }
      else {
        // ログインしていない場合の処理
        document.querySelector(".login-bar").innerHTML = "<a href='login.html' class=login_text>ログイン</a>";
      }
    });

    function logout() {
      firebase.auth().signOut().then(function () {
        // Sign-out successful.
        window.location.reload(); // ページをリロードしてログアウト状態を反映
      }).catch(function (error) {
        // An error happened.
        console.error("ログアウトエラー", error);
      });
    }
  </script>


  <link rel="stylesheet" href="style_index.css">
  

<body>
  <div class="wrapper_all">
    <div class="login-bar">
      <div class="login_icon"></div>
    </div>
    <header>
      <div class="header_item">
        <h1><span>名古屋大学</span><span>非公式wiki</span></h1>
        <h2>~NU wiki unofficial~</h2>
      </div>
    </header>
  
      <div class="openbtn1"><span></span><span></span><span></span></div>
    <nav id="g-nav">
      <div id="g-nav-list">
        <div class="accordion">
          <a class="listitem" href="index.html">TOP</a>

          <div class="option">
            <input type="checkbox" id="toggle2" class="toggle">
            <label class="title" for="toggle2">初めに</label>
            <div class="content2">
              <li><a class="nav-item underline" href="index.html">本サイトについて</a></li>
              <li><a class="nav-item underline" href="login.html">ログイン/新規登録</a></li>
              <li><a class="nav-item underline" href="index.html">管理人紹介(coming soon)</a></li>
              <li><a class="nav-item underline" href="#"></a></li>
            </div>
          </div>

          <div class="option">
            <input type="checkbox" id="toggle3" class="toggle">
            <label class="title" for="toggle3">お役立ち情報</label>
            <div class="content2">
              <li><a class="nav-item underline" href="#">マップ</a></li>
              <li><a class="nav-item underline" href="#">周辺イベントまとめ(準備中)</a></li>
              <li><a class="nav-item underline" href="#">アルバイト情報登録</a></li>
              <li><a class="nav-item underline" href="#">アルバイト情報一覧</a></li>
              <li><a class="nav-item underline" href="#"></a></li>
            </div>
          </div>

          <div class="option">
            <input type="checkbox" id="toggle4" class="toggle">
            <label class="title" for="toggle4">部活動/サークル情報</label>
            <div class="content2">
              <li><a class="nav-item underline" href="club_show.html">サークル一覧</a></li>
              <li><a class="nav-item underline" href="club_calendar copy.html">新歓カレンダー</a></li>
              <li><a class="nav-item underline" href="research.html">部活ID検索</a></li>
              <li><a class="nav-item underline" href="research2.html">新歓ID検索</a></li>
              <li><a class="nav-item underline" href="#"></a></li>
            </div>
          </div>

          <div class="option">
            <input type="checkbox" id="toggle5" class="toggle">
            <label class="title" for="toggle5">コラム/各種まとめ</label>
            <div class="content2">
              <li><a class="nav-item underline" href="zyugyou.html">授業・教授まとめ</a></li>
              <li><a class="nav-item underline" href="coram.html">コラム</a></li>
              <li><a class="nav-item underline" href="#"></a></li>
            </div>
          </div>

          <div class="option">
            <input type="checkbox" id="toggle7" class="toggle">
            <label class="title" for="toggle7">ホーム</label>
            <div class="content2">
              <li><a class="nav-item underline" href="user_home.html">ユーザーホーム</a></li>
              <li><a class="nav-item underline" href="club_home.html">部活動/サークルホーム</a></li>
              <li><a class="nav-item underline" href="#"></a></li>
            </div>
          </div>

          <div class="option">
            <input type="checkbox" id="toggle6" class="toggle">
            <label class="title" for="toggle6">部活動/サークル関係者へ</label>
            <div class="content2">
              <li><a class="nav-item underline" href="party_regist.html">新歓情報追加</a></li>
              <li><a class="nav-item underline" href="club_regist.html">部活/サークル情報追加</a></li>
              <li><a class="nav-item underline" href="#"></a></li>

            </div>
          </div>

          <a class="listitem2" href="#">LOGIN</a>

        </div>
        </div>
    </nav>

  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
<script>
  // Firebaseの設定
  var firebaseConfig = {
    apiKey: "AIzaSyD3ogaiRPtv870uTBDjI3S42LKTC1hlLrM",
    authDomain: "nuwiki2024.firebaseapp.com",
    databaseURL: "https://nuwiki2024.firebaseio.com",
    projectId: "nuwiki2024",
    storageBucket: "nuwiki2024.appspot.com",
    messagingSenderId: "117360974314",
    appId: "1:117360974314:web:61f450a0ae18d958627a93",
    measurementId: "G-PWX9FWE8T3"
  };
  firebase.initializeApp(firebaseConfig);

  firebase.auth().onAuthStateChanged(function(user) {
    if (!user) {
      // ログインしていない場合はlogin.htmlにリダイレクト
      window.location.replace("login.html");
    }
  });

  function logout() {
    firebase.auth().signOut().then(function() {
      // Sign-out successful.
      window.location.reload(); // ページをリロードしてログアウト状態を反映
    }).catch(function(error) {
      // An error happened.
      console.error("ログアウトエラー", error);
    });
  }

  $(".openbtn1").click(function () {
        $(this).toggleClass('active');//ボタンがクリックされたらactiveを付与
        $("#g-nav").toggleClass('panelactive');//ナビゲーションにpanelactiveを付与
      });

      $("#g-nav a").click(function () {
        $(".openbtn1").removeClass('active');//リンクがクリックされたらactiveを除去
        $("#g-nav").removeClass('panelactive');//ナビゲーションのpanelactiveを除去
      });

      $(function () {
        $(window).scroll(function () {
          $('.js-fade').each(function () {//スクロールされたときにフェードイン
            var pos = $(this).offset().top;
            var scroll = $(window).scrollTop();
            var windowHeight = $(window).height();
            if (scroll > pos - windowHeight + 100) {
              $(this).addClass('scroll');
            }
          });
        });
      });


      // eachTextAnimeにappeartextというクラスを付ける
      function textanimeControl() {
        $('.textanime').each(function () {
          var elemPos = $(this).offset().top - 50;
          var scroll = $(window).scrollTop();
          var windowHeight = $(window).height();
          if (scroll >= elemPos - windowHeight) {
            $(this).addClass("appeartext");

          } else {
            $(this).removeClass("appeartext");
          }
        });
      }

      // 画面をスクロール時
      $(window).scroll(function () {
        textanimeControl();
      });

      // 画面が読み込まれた時
      $(window).on('load', function () {
        var element = $(".textanime");
        element.each(function () {
          var text = $(this).text();
          var textbox = "";
          text.split('').forEach(function (t, i) {
            if (t !== " ") {
              if (i < 10) {
                textbox += '<span style="animation-delay:.' + i + 's;">' + t + '</span>';
              } else {
                var n = i / 10;
                textbox += '<span style="animation-delay:' + n + 's;">' + t + '</span>';
              }

            } else {
              textbox += t;
            }
          });
          $(this).html(textbox);
        });

        textanimeControl();
      });

</script>

<main>
  <h3>本音をぶつけろ！授業評価・教授まとめ</h3>

<p>このサイトは、上級生の授業の感想、授業形態といった情報を下級生に簡単に共有し、<br>
  下級生がより効率的に学習できるようにというサイトです。誹謗中傷等のコメントはお控えください。
  他の人の投稿は<a href="toukou.html">コチラ</a>。</p>

<div class="form-container">
  <h3>投稿は↓から。皆様の意見募集中！</h3>
  </main>
  <form id="zyu">
    <label for="professor">教授名:</label>
    <input type="text" id="professor" name="professor" required>
<br>
    <label for="subject">教科名:</label>
    <input type="text" id="subject" name="subject" required>
<br>
    <!-- 学部の選択肢を追加 -->
    <label for="faculty">学部:</label>
    <select id="faculty" name="faculty" required>
      <option value="">選択してください</option>
      <option value="文学部">文学部</option>
      <option value="法学部">法学部</option>
      <option value="経済学部">経済学部</option>
      <option value="理学部">理学部</option>
      <option value="工学部">工学部</option>
      <option value="情報学部">情報学部</option>
      <option value="教育学部">教育学部</option>
      <option value="医学部">医学部</option>
      <option value="農学部">農学部</option>
    </select>
<br>
    <!-- 学科の選択肢を追加 -->
    <label for="department">学科/専攻:</label>
    <select id="department" name="department" required>
      <option value="専攻未定">その他</option>
      <option value="自然情報学科">自然情報学科</option>
      <option value="コンピュータ科学科">コンピュータ科学科</option>
      <option value="人間・社会情報学科">人間・社会情報学科</option>
      <option value="医学科">医学科</option>
      <option value="化学生命工学科">化学生命工学科</option>
      <option value="物理工学科">物理工学科</option>
      <option value="マテリアル工学科">マテリアル工学科</option>
      <option value="電気電子情報工学科">電気電子情報工学科</option>
      <option value="エネルギー理工科">エネルギー理工科</option>
      <option value="機会航空宇宙工学科">機械航空宇宙工学科</option>
      <option value="環境土木・建築工学科">環境土木・建築工学科</option>
      <option value="生物環境科学科">生物環境科学科</option>
      <option value="資源生物科学科">資源生物科学科</option>
      <option value="応用生命科学科">応用生命科学科</option>
      <option value="看護学専攻">看護学専攻</option>
      <option value="放射線技能科学専攻">放射線技能科学専攻</option>
      <option value="検査技術科学専攻">検査技術科学専攻</option>
      <option value="理学療法学専攻">理学療法学専攻</option>
      <option value="作業療法学専攻">作業療法学専攻</option>
    </select>
    <br>
    <label for="style"> 授業形式:</label>
    <select id="style" name="style" required>
      <option value="">選択してください</option>
      <option value="オンデマンド">オンデマンド</option>
      <option value="ハイブリッド">ハイブリッド</option>
      <option value="対面のみ">対面のみ</option>
    </select>
<br>
    <label for="eva">総合評価:</label>
    <select id="eva" name="eva" required>
      <option value="">選択してください</option>
      <option value="S">Tier S</option>
      <option value="A">Tier A</option>
      <option value="B">Tier B</option>
      <option value="C">Tier C</option>
      <option value="C-">Tier C-</option>
      <option value="F">Tier F</option>
     <br> 
    </select>
    <label for="comment">コメント:</label>
    <textarea id="comment" name="comment" rows="4" cols="50" required></textarea>

    <button type="submit">投稿</button>
  </form>
  <div id="postResult"></div>
</div>

<footer>
  <p>© 2024 Name of the University Nonofficial wiki</p>
</footer>

<script>
  // フォームの投稿内容をFirebase Realtime Databaseに保存する
  document.getElementById("zyu").addEventListener("submit", function(event) {
    event.preventDefault();
    var professor = document.getElementById("professor").value;
    var subject = document.getElementById("subject").value;
    var comment = document.getElementById("comment").value;
    var faculty = document.getElementById("faculty").value;
    var department = document.getElementById("department").value;
    var style = document.getElementById("style").value;
    var eva = document.getElementById("eva").value;

    // Firebase Realtime Databaseにデータを保存
    firebase.firestore().collection("zyu").doc().set({
      professor: professor,
      subject: subject,
      comment: comment,
      faculty: faculty,
      department: department,
      style:style,
      eva:eva
    })
    .then(function() {
      console.log("Document successfully written!");
      alert("ご協力ありがとうございます。画面変わるまでOKを押してお待ちください。");
      setTimeout(function() {
        window.location.href = "index.html";
      }, 3000);
    })
    .catch(function(error) {
      console.error("Error writing document: ", error);
      alert("データの送信に失敗しました：" + error);
    });
  });
</script>

<script>
function openTab(tabName) {
  // Hide all content divs
  var contentDivs = document.getElementsByClassName("content");
  for (var i = 0; i < contentDivs.length; i++) {
    contentDivs[i].classList.remove("active");
  }

  // Show the selected content div
  var selectedContentDiv = document.getElementById(tabName);
  selectedContentDiv.classList.add("active");

  // Remove active class from all tabs
  var tabs = document.getElementsByClassName("tab");
  for (var i = 0; i < tabs.length; i++) {
    tabs[i].classList.remove("active");
    tabs[i].style.backgroundColor = '#04cc04'; // Reset color of non-active tabs
  }

  // Add active class to the selected tab
  var selectedTab = document.querySelector("[onclick=\"openTab('" + tabName + "')\"]");
  selectedTab.classList.add("active");
  selectedTab.style.backgroundColor = '#008000'; // Change color of active tab
}
</script>

</body>
<footer>
    
  <iframe src="./footer.html" frameborder="0" id="footer" role="presentation"></iframe>
  
  
</footer>
</html>
